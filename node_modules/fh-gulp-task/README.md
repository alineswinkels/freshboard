# gulp-task

This package contains a comprehensive set of default Gulp tasks.

## Usage

Add gulp and gulp-task packages to your `package.json` configuration file:

```json
{
  "name": "project-name",
  "private": true,
  "devDependencies": {
    "gulp": "~3.9.0"
  },
  "dependencies": {
    "fh-gulp-task": "git+ssh://git@github.com:freshheads/gulp-task#v0.2.4",
    "lodash": "~3.10.0"
  }
}
```

In the root directory of your project, create a `gulpfile.js` file for Gulp:

```javascript
var gulp = require('gulp'),
    loader = require('fh-gulp-task');

loader.loadDefaultTasks(gulp);
```

## Assets

Directories under (web/assets) are scanned for gulp.config.js files. These files contain the configuration
for the assets build. The default build directory is web/assets/appname/build. The directory name is used 
as the app name.

```javascript
// web/assets/frontend/gulp.config.js
var _ = require('lodash'); // Add lodash to your package.json

var dev = {
    imports: ['ggzapp'], // imports the gulp.config.js from the GGZAppBundle
    entries: { app: ['src/scss/app.scss', 'src/js/app.js'] }, // entry points (scss and js can be mixed here)
    sass: { // options to be passed to node-sass (libsass)
        outputStyle: 'nested'
    },
    stats: {}, // Statswriter plugin options: https://github.com/FormidableLabs/webpack-stats-plugin#statswriterpluginopts
    webpack: {} // Webpack options http://webpack.github.io/docs/configuration.html
};

var prod = _.merge({}, dev, {
    js: { uglify: true }, // uglify js for prod envs
    sass: { outputStyle: 'compressed' } // compress css for prod envs
});

module.exports = {
    dev: dev,
    prod: prod,
    staging: prod,
    test: prod
};
```
